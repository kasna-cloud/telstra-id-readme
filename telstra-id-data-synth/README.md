# TELSTRA INNOVATION DATA DATA SYNTHS

This tool will generate synthetic data for call data records (CDR) and alarm data for network servers and equipment. Each CDR and alarm is submitted to a Pub/Sub topic where it can be collected by an approrate subscription.

There are two generators that run for CDRs and one for alarming data. The are executed on a compute resource in python.

__ Installation __

TL;DR

- Create project <project id>
- Enable container registry API in project
- Install docker

```
# docker build -t datasynth .
# docker tag datasynth gcr.io/<project id>/datasynth
# docker push gcr.io/<project id>/datasynth
# cd terraform
# terraform apply
```

__Synthesizers__
--

__alarm-generator.py__

This synthesizer attempts to simulate alerts that are typically generated by datacenter servers and networking devices. Alerts are published to the topic 'alarm_synth' and are available in the subscription 'alarm_synth'

__australian-cdr-generator.py__

This generator will create call records to and from ten digit numbers from Australian area codes and mobiles.

__international-cdr-generator.py__
 
This generator will create call records from Country Code + Nine digits numbers, the CDR will always have and Australian (+61) number as either the call origin or destination.

__Alarm Data__
--
It is very difficult to synthesize this kind of data. This generator is only an approximation of authentic data.

The alerts are published to a topic called 'alarm_synth' and appear in the subscription called 'alarm_synth'

The format for each alert is;
```
<date>,<time>,<device name>,<alert>
```
Each generated alert is random. However the alert type will be related to the device type, eg: a server is the only device that can have a DISK type alert.

__Call Data Records__
--
Sythesized CDRs are generated and published to two topics one for Australian call records, 'aust_cdr' and one for international call records, 'intl_cdr'. 

__CDR Format__

The CDR is in a CSV format for both types of calls.

```
<date of call completion>,<time of call completion>,<origin number>,<destination number>,<status>,<length of call in seconds>
```

__Call Status__

Call status values and weights are as follows;
```
  cc = Call Collision (3%)
  nc = No Connect (2%)
  en = Engaged (4%)
  ms = Message Service (6%)
  an = Answered (85%)
```
The call status are weighted so as to give a distributed result in and attempt to simulate real data.

__Call Length__

The call length data is based on a standard deviation of 3600 (1 Hour) where the centre of the distribution is 180 seconds (3 minutes). If a random number less than 1 is selected then another number is selected.

__Call Timing__

Each CDR is sent at a random interval on anywhere between 0.1 second and 1 second 